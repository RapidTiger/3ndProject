<!doctype html>
<html class="no-js" lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Watch shop | eCommers</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="site.webmanifest">
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.ico">

    <!-- CSS here -->
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
        <link rel="stylesheet" href="assets/css/flaticon.css">
        <link rel="stylesheet" href="assets/css/slicknav.css">
        <link rel="stylesheet" href="assets/css/animate.min.css">
        <link rel="stylesheet" href="assets/css/magnific-popup.css">
        <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
        <link rel="stylesheet" href="assets/css/themify-icons.css">
        <link rel="stylesheet" href="assets/css/slick.css">
        <link rel="stylesheet" href="assets/css/nice-select.css">
        <link rel="stylesheet" href="assets/css/style.css">

    <style type="text/css">
        div{ -ms-overflow-style: none;} ::-webkit-scrollbar { display: none;}
        /*.content{overflow: hidden; text-overflow:ellipsis;white-space:nowrap; width: 80%}*/
        .image{width: 70px; height: 70px; border-radius: 50%}
        .imgBox{float: left; margin-right: 10px}
        .content { color: black; text-decoration:none }
        .content:visited { color: black; text-decoration: none;}
        body{background-color: var(--light-pink);}
    </style>
</head>

<body>
<input type="checkbox" id="menuBtn">
<div class="new-menu">
    <label for="menuBtn" class="labelBtn" onclick="">
        <img class="closed" src="img/temp/close.png" alt="">
    </label>
    <div id="new-menu-bar">
        <ul id="navigation">
            <li th:if='${id == null}'><a href="login">로그인</a></li>
            <li th:if='${id == null}'><a href="join">회원가입</a></li>
            <li th:if='${id != null}'><a href="member-list">회원보기</a></li>
            <li th:if='${id != null}'><a href="AI-manager-1">AI 매니저</a></li>
            <li th:if='${id != null}'><a href="messageHead">메시지</a></li>
            <li th:if='${id != null}'><a href="markList">찜목록</a></li>
            <li th:if='${id != null}'><a href="myProfile">내프로필</a></li>
            <li th:if='${id != null}'><a href="logout">로그아웃</a></li>
        </ul>
    </div>
</div>
<!--? Preloader Start -->
<div id="preloader-active">
    <div class="preloader d-flex align-items-center justify-content-center">
        <div class="preloader-inner position-relative">
            <div class="preloader-circle"></div>
            <div class="preloader-img pere-text">
                <img src="assets/img/logo/logo.png" alt="">
            </div>
        </div>
    </div>
</div>
<!-- Preloader Start -->
<header>
    <!-- Header Start -->
    <div class="header-area" style="width: 100%">
        <div class="main-header header-sticky">
            <div class="container-fluid">
                <div class="menu-wrapper">
                    <!-- Logo -->
                    <div class="logo">
                        <a href="index"><img src="assets/img/logo/logo.png" alt=""></a>
                    </div>
                    <label for="menuBtn" class="labelBtn" onclick="">
                        <img class="menu_btn" src="img/temp/menu.png" alt="">
                    </label>
                </div>
            </div>
        </div>
        <!-- Header End -->
    </div>
</header>
    <main>
        <!-- Hero Area Start-->
        <div class="slider-area ">
            <div id="head" style="overflow-y:scroll; overflow-x: hidden; width: 100%; height: 100%; padding: 20px">
                <table>
                    <tr th:each="head : ${heads}">
                        <td style="padding: 10px 0px 10px 0px" th:if='${id == head.send}'>
                            <div class="imgBox"><img class="image" th:src="@{|/img/user/${head.received}/1.png|}" onerror="this.src='/img/temp/user.png'"></div>
                        </td>
                        <td th:if='${id == head.send}'>
                            <a class="content" th:href="${id != head.send}?@{messageContent(friend=${head.received})}:@{messageContent(friend=${head.received})}">
                                <div>
                                    <span th:text="${head.received}"></span>
                                    <span th:text="${#strings.substring(head.mdate,5,16)}"></span>
                                    <span th:if='${head.checkMessage == "new" and head.send != id}'>✉️</span><br>
                                    <div style="width: 100%;display: inline-block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; height: 2.4em; line-height: 1.2; white-space: normal;" class="content" th:text="${head.content}"></div><br>
                                </div>
                            </a>
                        </td>

                        <td style="padding: 10px 0px 10px 0px" th:if='${id != head.send}'>
                            <div class="imgBox"><img class="image" th:src="@{|/img/user/${head.send}/1.png|}" onerror="this.src='/img/temp/user.png'"></div>
                        </td>
                        <td th:if='${id != head.send}'>
                            <a class="content" th:href="${id != head.send}?@{messageContent(friend=${head.send})}:@{messageContent(friend=${head.received})}">
                                <div>
                                    <span th:text="${head.send}"></span>
                                    <span th:text="${#strings.substring(head.mdate,5,16)}"></span>
                                    <span th:if='${head.checkMessage == "new" and head.send != id}'>✉️</span><br>
                                    <div style="width: 100%;display: inline-block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; height: 2.4em; line-height: 1.2; white-space: normal;" class="content" th:text="${head.content}"></div><br>
                                </div>
                            </a>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <!-- Hero Area End-->
        <!-- Latest Products Start -->
    </main>
    <!-- All JS Custom Plugins Link Here here -->
    <script src="./assets/js/vendor/modernizr-3.5.0.min.js"></script>
    <!-- Jquery, Popper, Bootstrap -->
    <script src="./assets/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="./assets/js/popper.min.js"></script>
    <script src="./assets/js/bootstrap.min.js"></script>
    <!-- Jquery Mobile Menu -->
    <script src="./assets/js/jquery.slicknav.min.js"></script>

    <!-- Jquery Slick , Owl-Carousel Plugins -->
    <script src="./assets/js/owl.carousel.min.js"></script>
    <script src="./assets/js/slick.min.js"></script>

    <!-- One Page, Animated-HeadLin -->
    <script src="./assets/js/wow.min.js"></script>
    <script src="./assets/js/animated.headline.js"></script>
    <script src="./assets/js/jquery.magnific-popup.js"></script>

    <!-- Scroll up, nice-select, sticky -->
    <script src="./assets/js/jquery.scrollUp.min.js"></script>
    <script src="./assets/js/jquery.nice-select.min.js"></script>
    <script src="./assets/js/jquery.sticky.js"></script>
    
    <!-- contact js -->
    <script src="./assets/js/contact.js"></script>
    <script src="./assets/js/jquery.form.js"></script>
    <script src="./assets/js/jquery.validate.min.js"></script>
    <script src="./assets/js/mail-script.js"></script>
    <script src="./assets/js/jquery.ajaxchimp.min.js"></script>
    
    <!-- Jquery Plugins, main Jquery -->	
    <script src="./assets/js/plugins.js"></script>
    <script src="./assets/js/main.js"></script>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
        function autoRefresh_div(){
            $('#head').load('messageHeadSet');
        }
    setInterval(autoRefresh_div,500)
    </script>

</body>
</html>